@model Calculator.Models.Calc

@{
    ViewBag.Title = "Index";
}
<script src="~/Scripts/jquery-3.4.1.min.js"></script>
<script type="text/javascript">
    $(function () {

        $("#i2").hide();
        $("#input1").keypress(function (e) {
            if (String.fromCharCode(e.keyCode).match(/[^0-9+-/*]/g)) return false;
        });
        $("#input1").height("40px").width("312px");
        $("#b0").click(function () {
            var x = document.getElementById("input1").value;
            if (x == "0") {
                $("#input1").val("0");
            } else {
                $("#input1").val(x + "0")
            }
        });
        $("#b1").click(function () {
            var x = document.getElementById("input1").value;
            if (x == "0") {
                $("#input1").val("1");
            } else {
                $("#input1").val(x + "1")
            }
        });
        $("#b2").click(function () {
            var x = document.getElementById("input1").value;
            if (x == "0") {
                $("#input1").val("2");
            } else {
                $("#input1").val(x + "2")
            }
        });
        $("#b3").click(function () {
            var x = document.getElementById("input1").value;
            if (x == "0") {
                $("#input1").val("3");
            } else {
                $("#input1").val(x + "3")
            }
        });
        $("#b4").click(function () {
            var x = document.getElementById("input1").value;
            if (x == "0") {
                $("#input1").val("4");
            } else {
                $("#input1").val(x + "4")
            }
        });
        $("#b5").click(function () {
            var x = document.getElementById("input1").value;
            if (x == "0") {
                $("#input1").val("5");
            } else {
                $("#input1").val(x + "5")
            }
        });
        $("#b6").click(function () {
            var x = document.getElementById("input1").value;
            if (x == "0") {
                $("#input1").val("6");
            } else {
                $("#input1").val(x + "6")
            }
        });
        $("#b7").click(function () {
            var x = document.getElementById("input1").value;
            if (x == "0") {
                $("#input1").val("7");
            } else {
                $("#input1").val(x + "7")
            }
        });
        $("#b8").click(function () {
            var x = document.getElementById("input1").value;
            if (x == "0") {
                $("#input1").val("8");
            } else {
                $("#input1").val(x + "8")
            }
        });
        $("#b9").click(function () {
            var x = document.getElementById("input1").value;
            if (x == "0") {
                $("#input1").val("9");
            } else {
                $("#input1").val(x + "9")
            }
        });
        $("#div").click(function () {
            var x = document.getElementById("input1").value;
            var y = x.slice(-1)
            if (y == "/" || y == "+" || y == "*" || y == "-") { } else {
                $("#input1").val(x + "/")
            }
        });
        $("#multy").click(function () {
            var x = document.getElementById("input1").value;
            var y = x.slice(-1)
            if (y == "/" || y == "+" || y == "*" || y == "-") { } else {
                $("#input1").val(x + "*")
            }
        });
        $("#sub").click(function () {
            var x = document.getElementById("input1").value;
            var y = x.slice(-1)
            if (y == "/" || y == "+" || y == "*" || y == "-") { } else {
                $("#input1").val(x + "-")
            }
        });
        $("#add").click(function () {
            var x = document.getElementById("input1").value;
            var y = x.slice(-1)
            if (y == "/" || y == "+" || y == "*" || y == "-") { } else {
                $("#input1").val(x + "+")
            }
        });
        $("#dot").click(function () {
            var x = document.getElementById("input1").value;
            var y = x.slice(-1)
            if (y == ".") { } else {
                $("#input1").val(x + ".")
            }
        });
        $("#ce").click(function () {
            var x = document.getElementById("input1").value;
            $("#input1").val(x.substring(0, x.length - 1))
        });

        var path = '@Url.Action("getResult")';

         
         $("#eq").click(function () {
             
             
             $.getJSON(path, { Result: $('#input1').val() }, function (response) {
                 $("#input1").val(response)
             })
         })


    });
</script>

<br /><br />
<center>
    <div id="d1"style="background-color:black">
        @using (@Html.BeginForm())
        {
        <table style="height:25%;border:thick;background-color:black">
            <br />
            @Html.ValidationSummary(true, "", new { @class = "text-danger" })

            <div id="i1">
                <div >
                    @Html.TextBoxFor(model => model.input1, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.input1, "", new { @class = "text-danger" })
                </div>
            </div>
            <div  id="i2">
                <div >
                    @Html.TextBoxFor(model => model.input2, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.input2, "", new { @class = "text-danger" })
                </div>
            </div>
            <br />

            <tr>
                <td><input type="button" id="b7" value="7" style="height:40px;width:75px" /></td>
                <td><input type="button" id="b8" value="8" style="height:40px;width:75px" /></td>
                <td><input type="button" id="b9" value="9" style="height:40px;width:75px" /></td>
                <td><input type="button" id="div" value="/" style="height:40px;width:75px" /></td>
            </tr>
            <tr>
                <td><input type="button" id="b4" value="4" style="height:40px;width:75px" /></td>
                <td><input type="button" id="b5" value="5" style="height:40px;width:75px" /></td>
                <td><input type="button" id="b6" value="6" style="height:40px;width:75px" /></td>
                <td><input type="button" id="multy" value="*" style="height:40px;width:75px" /></td>
            </tr>
            <tr>
                <td><input type="button" id="b1" value="1" style="height:40px;width:75px" /></td>
                <td><input type="button" id="b2" value="2" style="height:40px;width:75px" /></td>
                <td><input type="button" id="b3" value="3" style="height:40px;width:75px" /></td>
                <td><input type="button" id="sub" value="-" style="height:40px;width:75px" /></td>
            </tr>
            <tr>
                <td><input type="button" id="b0" value="0" style="height:40px;width:75px" /></td>
                <td><input type="button" id="dot" value="." style="height:40px;width:75px" /></td>
                <td><input type="button" id="add" value="+" style="height:40px;width:75px" /></td>
                <td><input type="button" id="eq" value="=" style="height:40px;width:75px;background-color:orange;color:white" /></td>
            </tr>
            <tr>
                <td colspan="2">
                    <input type="button" id="ce" value="CE" style="height:40px;width:155px" />
                </td>
                <td colspan="2">
                    <input type="reset" id="re" value="Clear" style="height:40px;width:155px" />
                </td>
            </tr>
            
        </table>
        }
    </div>
</center>

<style>

    #d1 {
        border: 1px solid black;
        height: 360px;
        width: 340px;
    }
</style>

